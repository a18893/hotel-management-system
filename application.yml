spring:
  sleuth:
    sampler:
      probability: 1.0
  zipkin:
    base-url: http://localhost:9411
    sender:
      type: web
  kafka:
    bootstrap-servers: ${KAFKA_URL}
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
      acks: all
      properties:
       # spring.json.add.type.headers: false
       spring.json.add.type.headers: true
    consumer:
      group-id: hotel-service-group
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer
        spring.deserializer.value.delegate.class: org.springframework.kafka.support.serializer.JsonDeserializer
        spring.json.trusted.packages: "*"
        spring.json.use.type.headers: true
        spring.json.fail-on-unknown-properties: false
    listener:
      missing-topics-fatal: false  
eureka:
  instance:
    prefer-ip-address: true
  client:
    fetch-registry: true
    register-with-eureka: true
    enabled: true
    service-url:
      defaultZone: ${EUREKA_URL:http://localhost:8761/eureka}
logging:
  level:
    root: INFO
    org.springframework: INFO
    org.hibernate.SQL: WARN
    com.dev: DEBUG
    org.springframework.cloud.sleuth: DEBUG 
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} %-5level [%X{traceId:-}, %X{spanId:-}] %c{1}:%L - %msg%n"
  file:
    name: logs/${spring.application.name}.log
  logback:
    rollingpolicy:
      file-name-pattern: logs/${spring.application.name}-%d{yyyy-MM-dd}.log
      max-file-size: 10MB
      max-history: 10
  charset:
    console: UTF-8
    file: UTF-8
gateway:
  internal:
    key: "HotelManagementSecretKey_2026"
security:
  gateway:
    key: "HotelManagementSecretKey_2026"    
management:
  server:
    port: ${MANAGEMENT_PORT:${server.port}}
  endpoints:
    web:
      exposure:
        include: health,info
      base-path: /actuator
  endpoint:
    health:
      show-details: always
    loggers:
      enabled: true
  health:
    livenessstate:
      enabled: true
    readinessstate:
      enabled: true
  info:
    env:
      enabled: true

info:
  app:
    name: Hotel Management System
    description: Microservices-based Hotel Booking Platform
    version: 1.0.0
  contact:
    developer: Avinash Kumar
    email: avinash@example.com
    organization: MagadhSoft

 # Data Base credentials 
#DB_USERNAME:  {cipher}1636c31219daf406e5a14dd653347337a3f7b0cd4f7fb6c384454a126fac0119b257
#DB_PASSWORD:  {cipher}230000fbdc6c9dc8d47c82e1dfdb09dde4ecbab28263602f53e776331cee24d21b208

# Mailgun SMTP credentials 
#MAILGUN_USERNAME: "{cipher}726665a851cce96b9ca3bedcafb5632e670a5dd7c0399c04bc377e6250c7bd7c3919cbf592fe9f4177074387f4791f42044e5947f500e36058fc93bc1c44acd3bfaf7fd870dc2971575d4e0d0daca7a9d017a"
#MAILGUN_PASSWORD: "{cipher}70000ce571785509f96b2c5b8326a43b1ec6ba3eed587ef0b7ab662075f19431a75b1e0d4715fc713553b0284cb0d57d5deecb3fd5a408f6ff7c025d58d5f4a6cbe3b4a06c5a670689bd4be96d26f33de0f1e"

# Mailgun API credentials
#MAILGUN_API_KEY: "{cipher}7000010e644e364eb147ccde4f61ebf3b0effd7d60ae10739c47f80bbc3011067fdec669010dc1065fb783ff61b78efd36fc367363eb89b86aaeb1c82528fd90da99bc2c85ada67ce82e01d7dcc051f50d7de"
#MAILGUN_DOMAIN: "{cipher}703332eee913db8497d8d6300175228fdde63e2dde9fd4e24effd978559775c9c9ab91d6605b5adf0d3982f788929c9f1a18c6d26e9cb2212bd222bf8d9a520a363f4ad090c00f97026a6db03d73af506ca51"

# Twilio SMS credentials
#TWILIO_ACCOUNT_SID: "{cipher}54000581c827a5f0eb616b4ba97e7f3542c9081f382579fd81d5769b27babf6c990baad82bbdbd05d45095d1a1a04e1f39ed897c72b987140e5b991785de707829a7b"
#TWILIO_AUTH_TOKEN: "{cipher}53333e9a82584587a1b56cd61df91e7398b198b89fe30d73224dccd8183f25a2ca8b795a165680df7d1c520d7174e718c66519b4828fc56536397c1f0ab01acee4d90"
#TWILIO_FROM_PHONE: "{cipher}25666988af21a17daea88b13ccae1a8f3fbf5082da854eb0165e78294ba2e3085bd89"

# ðŸ’³ PAYMENT GATEWAY CREDENTIALS (for PAYMENT-SERVICE)
#STRIPE_API_KEY: "{cipher}118kff844e42862f74c200582f1d131ef59cf784c0058c30331ec0056f3c7d3340eed894a09f6c2502e01196004afd57f488189a3c119701cace4c1fc6067e9fde6371c7e38b8c698139942ab43117a3e7d2bcb3ad471d3d1cbf8fb8150856ab44ce8d957b51135316425b31bd0976ae03ae5d4e86be0dfc633b38b11cc1da81faae"
#STRIPE_WEBHOOK_SECRET: "{cipher}41500b56093752ca04218bc8a79a3e910383972321c33b79d65ff06f3d14d2963232d0981f42f9e5d6851140dac6fd3f11ab7a74f3c43cd4f508a0a6068933a3e4635"
#RAZORPAY_KEY_ID: "{cipher}396663c3aa0a808c794acdf10857d3784fcde0e73b3720819b9a586f49171ac9c7aa45c35bcaa91b36e938ec4e9699dcae0ce"
#RAZORPAY_KEY_SECRET: "{cipher}40000dcc569eabef2b0751437fbc8cb2073391939bb1fcbf4aafcf0907111914a82fe314672389a771bc646ff589ef5c6729b"

# COMMON SERVICE URLS
MONGODB_URI: mongodb://localhost:27017/notification_service
KAFKA_URL: localhost:9092
EUREKA_URL: http://localhost:8761/eureka   

kafka:
  topics:
    booking-events: booking-events-topic
    hotel-room-availability: hotel-room-availability-topic
    hotel-manager-assigned: hotel-manager-assigned-topic
    payment-status: payment-status-topic
    booking-rejection: booking-rejection-topic
